{% extends "base.html" %}
{% load static %}
{% load django_bootstrap5 %}

{% block head_message %}점용접{% endblock %}

{% block content %}
<script src="{% static 'storeTableData.js' %}"></script>
<div class="container w-100 mt-5 border rounded">
  <h4 class="mt-4 text-center">소재 조합</h4>
  <div class="d-flex align-items-center justify-content-center">
    <table class="table table-bordered" style="table-layout: fixed;">
      <tr>
        <td>겹수</td>
        <td>상판 종류</td>
        <td>상판 두께</td>
        <td>중판 종류</td>
        <td>중판 두께</td>
        <td>하판 종류</td>
        <td>하판 두께</td>
      </tr>
      <tr>
        <td>2겹</td>
        <td>SABdefefed</td>
        <td>0.5</td>
        <td>SBDsfsf</td>
        <td>0.3</td>
        <td>SAAADDfff</td>
        <td>1.0</td>
      </tr>
    </table>
  </div>
  <h4 class="mt-4 text-center">공정 조건</h4>
  <div class="d-flex align-items-center justify-content-center">
    <table class="table table-bordered" style="table-layout: fixed;">
      <tr>
        <td>Pre-pulse</td>
        <td></td>
        <td></td>
        <td>메인 용접</td>
        <td></td>
      </tr>
      <tr>
        <td>전류 범위(하한)</td>
        <td>전류 범위(상한)</td>
        <td>용접 시간</td>
        <td>냉각 시간</td>
        <td>전류 범위(하한)</td>
        <td>전류 범위(상한)</td>
        <td>용접 시간</td>
        <td>냉각 시간</td>
        <td>가압력</td>
      </tr>
      <tr>
        <td>6.0</td>
        <td>8.0</td>
        <td>50ms</td>
        <td>33ms</td>
        <td>6.0</td>
        <td>10.0</td>
        <td>300ms</td>
        <td>-</td>
        <td>280kgf</td>
      </tr>
    </table>
  </div>
</div>

<!-- Table Wrapper -->
<div class="container w-100 mt-5 border rounded result-box-no-align-center">
  <div class="row my-4">
    <div class="col-md-4">
      <p></p>
    </div>
    <h4 class="text-center col-md-4">예측 결과</h4>
    <!-- Navigation Buttons -->
    <div class="col text-center col-md-4 d-flex justify-content-end align-items-center">
      <input type="checkbox" class="table-checkbox"/> 선택
      <button class="btn btn-secondary ms-4" onclick="prevTable()">이전</button>
      <button class="btn btn-primary" onclick="nextTable()">다음</button>
    </div>
  </div>
  
  <div id="tableContainer">
    <div class="table-wrapper">
      <table class="table table-bordered" style="table-layout: fixed;">
        <tr>
          <th>전류(kA)</th>
          <th>(하한)6.0</th>
          <th>6.5</th>
          <th>7.0</th>
          <th>7.5</th>
          <th>(상한)8.0</th>
        </tr>
        <tr>
          <td>Nugget경 예측 결과</td>
          <td>기준 미달</td>
          <td>5.5</td>
          <td>5.6</td>
          <td>5.8</td>
          <td>Spatter 발생</td>
        </tr>
      </table>
    </div>

    <div class="table-wrapper" style="display: none;">
      <input type="checkbox" class="table-checkbox" /> 선택
      <table class="table table-bordered" style="table-layout: fixed;">
        <tr>
          <th>전류(kA)</th>
          <th>(하한)6.0</th>
          <th>6.5</th>
          <th>7.0</th>
          <th>7.5</th>
          <th>(상한)8.0</th>
        </tr>
        <tr>
          <td>Nugget경 예측 결과</td>
          <td>기준 미달</td>
          <td>10.0</td>
          <td>11.0</td>
          <td>12.0</td>
          <td>Spatter 발생</td>
        </tr>
      </table>
    </div>
  </div>
</div>

<!-- Store and Refresh Buttons -->
<div class="col text-center my-4">
  <button class="btn btn-success" onclick="storeSelectedTables()">저장</button>
  <button class="btn btn-danger" onclick="refreshPage()">새로고침</button>
</div>

<!-- Cumulative Table -->
<div class="container w-100 mt-5 border rounded">
  <h4 class="text-center my-4">누적된 예측 결과</h4>
  <div id="cumulativeTableContainer">
    <table class="table table-bordered cumulative-table" style="table-layout: fixed;">
      <thead>
        <tr>
          <th>겹수</th>
          <th>상판 종류</th>
          <th>상판 두께</th>
          <th>중판 종류</th>
          <th>중판 두께</th>
          <th>하판 종류</th>
          <th>하판 두께</th>
          <th>Pre-pulse 전류</th>
          <th>Pre-pulse 용접시간</th>
          <th>냉각시간</th>
          <th>메인용접 전류</th>
          <th>메인용접 용접시간</th>
          <th>메인용접 가압력</th>
        </tr>
      </thead>
      <tbody id="cumulativeTableBody">
        <tr>
          <td>2</td>
          <td>SBADDDD</td>
          <td>0.7</td>
          <td>SBAEEEE<td>
          <td>1.0</td>
          <td>SBAFF<td>
          <td>3.0</td>
          <td>8.8</td>
          <td>33ms</td>
          <td>50ms</td>
          <td>10.0</td>
          <td>400ms</td>
          <td>280</td>
        </tr>  
      </tbody>
    </table>
  </div>
</div>
<div style="min-height: 300px;">

</div>
{% endblock %}